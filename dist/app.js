!function(e){function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}var t={};a.m=e,a.c=t,a.i=function(e){return e},a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},a.p="",a(a.s=57)}([function(e,a){e.exports=require("react")},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=(a.TITLE="Character Arena",a.SLUG="character-arena"),n=(a.EMAIL="rafael.perez@imperdiblesoft.com",a.SITE_URL="https://characterarena.com",a.REPO_URL="https://www.github.com/ImperdibleSoft/"+r,a.COLOR="#1C110D",a.DESCRIPTION="Compare your character with others, and learn what you need to change",a.REGIONS=[{slug:"us",name:"America",languages:[{slug:"en",regionLanguage:"us",name:"English (US)"},{slug:"es",regionLanguage:"mx",name:"Español (AL)"},{slug:"pt",regionLanguage:"br",name:"Português (AL)"}]},{slug:"eu",name:"Europe",languages:[{slug:"de",regionLanguage:"de",name:"Deutsch"},{slug:"en",regionLanguage:"gb",name:"English (EU)"},{slug:"es",regionLanguage:"es",name:"Español (EU)"},{slug:"fr",regionLanguage:"fr",name:"Français"},{slug:"it",regionLanguage:"it",name:"Italiano"},{slug:"pt",regionLanguage:"pt",name:"Português (EU)"},{slug:"ru",regionLanguage:"ru",name:"Русский"}]},{slug:"kr",name:"Korea",languages:[{slug:"ko",regionLanguage:"kr",name:"한국어"}]},{slug:"tw",name:"Taiwan",languages:[{slug:"zh",regionLanguage:"cn",name:"繁體中文"}]}],a.BLIZZARD_ICONS="/images/blizzard-icons.svg#",a.TALENT_ICON="https://blzmedia-a.akamaihd.net/wow/icons/56/:iconName.jpg",a.IMPERDIBLESOFT="http://www.imperdiblesoft.com",a.WOWPROGRESS="https://www.wowprogress.com"),l=(a.WOWPROGRESS_ICON=n+"/favicon.ico",a.WOWPROGRESS_CHAR=n+"/character/:region/:realm/:characterName",a.WOWPROGRESS_GUILD=n+"/guild/:region/:realm/:guild",a.WORLDOFWARCRAFT="https://www.worldofwarcraft.com/:language-:regionLanguage");a.WORLDOFWARCRAFT_ARMORY=l+"/character/:realm/:characterName",a.WORLDOFWARCRAFT_GUILD="http://:region.battle.net/wow/:language/guild/:realm/:guild/",a.LEADERBOARDS_PVE=l+"/game/pve/leaderboards",a.LEADERBOARDS_PVP=l+"/game/pvp/leaderboards/3v3",a.WOW_WEB_ENHACER="https://chrome.google.com/webstore/detail/wow-website-enhacer/hhgbpiinmicadgmidmcfoelicbdhdbme"},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.formatIntegers=a.getRelativeTime=a.setCookie=a.getCookie=a.composeUrlPattern=a.composePathname=a.composeUrl=a.fillUrlData=a.normalize=a.getSlug=a.compare=a.getSpecResource=a.getAvailableTalents=a.getCharacterClass=a.getCharacterRace=void 0;var r=t(12),n=t(1),l=(a.getCharacterRace=function(e){var a=e.raceId;return e.races.find(function(e){return e.id===a})||a},a.getCharacterClass=function(e){var a=e.classId;return e.classes.find(function(e){return e.id===a})||a},a.getAvailableTalents=function(e){var a=e.classId;return e.talents[a]},a.getSpecResource=function(e){var a=e.powerType,t=e.role,r=e.resource,n=e.spec;return"rage"===a||"runic-power"===a||"bg-paladin-protection"===n||"bg-paladin-retribution"===n?"str"===r:"energy"===a||"focus"===a||"fury"===a||"pain"===a||"bg-druid-cat"===n||"bg-druid-guardian"===n||"bg-shaman-enhancement"===n?"agi"===r:("HEALER"===t||"mana"===a||"insanity"===a||"maelstrom"===a)&&"int"===r},a.compare=function(e){var a=e.base,t=e.comparedTo,r=e.key;if(void 0!==a&&void 0!==a[r]&&void 0!==t&&void 0!==t[r])return parseInt(a[r]-t[r])},a.getSlug=function(e){var a=e.name,t=e.useDashes,r=e.useLowDashes,n=e.usePluses,l=e.upperCase,o=a;return l||(o=o.toLowerCase()),o=t?o.replace(/'/g,"-").replace(/-/g,"-"):r?o.replace(/\ /g,"_").replace(/'/g,"_").replace(/-/g,"_"):n?o.replace(/\ /g,"+"):o.replace(/'/g,"").replace(/-/g,""),o=o.replace(/\ /g,"")}),o=(a.normalize=function(e){return l({name:e}).replace(/[àÀáÁâÂãÃäÄÅå]/g,"a").replace(/[èÈéÉêÊëË]/g,"e").replace(/[ìÌíÍîÎïÏ]/g,"i").replace(/[òÒóÓôÔõÕöÖØø]/g,"o").replace(/[ùÙúÚûÛüÜ]/g,"u")},function(e){var a=e.region,t=e.language;return n.REGIONS.find(function(e){return e.slug===a})&&n.REGIONS.find(function(e){return e.slug===a}).languages.find(function(e){return e.slug===t})&&n.REGIONS.find(function(e){return e.slug===a}).languages.find(function(e){return e.slug===t}).regionLanguage}),i=a.fillUrlData=function(e){var a=e.url,t=e.regionLanguage,r=e.language,n=e.region,l=e.realm,i=e.characterName,s=e.guild,c=e.iconName,u=t||o({region:n,language:r});return a.replace(/:regionLanguage/g,u||n).replace(/:language/g,r).replace(/:region/g,n).replace(/:realm/g,l).replace(/:characterName/g,i).replace(/:guild/g,s).replace(/:iconName/g,c)};a.composeUrl=function(e){var a=e.url,t=e.character,r=e.fields,n=e.region,l=e.language,o=e.regionLanguage,s=r?a+"?locale=:language_:region&fields="+r.map(function(e){return""+e}):a+"?locale=:language_:region";return i({url:s,regionLanguage:o,language:l,region:n,realm:t&&t.realm,characterName:t&&t.characterName})},a.composePathname=function(e){var a=e.region,t=e.language,n=e.regionLanguage,l=e.collection,o=r.HOME.replace(":regionLanguage",n).replace(":language",t).replace(":region",a).replace("(","").replace(")","").concat("/");return void 0!==l&&l.forEach(function(e){o=""+o+e.realm+"-"+e.name+","}),o},a.composeUrlPattern=function(e){var a=i({url:e,regionLanguage:"(.*)",language:"(.*)",region:"(.*)",realm:"(.*)",characterName:"(.*)",iconName:"(.*)"});return new RegExp(a)},a.getCookie=function(e){var a="undefined"!=typeof document?document.cookie.split(";"):[],t=a.find(function(a){return new RegExp(e).test(a)});return t&&t.split("=")[1]},a.setCookie=function(e){var a=e.name,t=e.value,r=new Date(Date.now()+63072e6).toString();document.cookie=a+"="+t+"; expires="+r},a.getRelativeTime=function(e){var a=(new Date).getTime(),t=a-e,r=parseInt(t/1e3/60/60/24/30/12),n=parseInt(t/1e3/60/60/24/30)-12*r,l=parseInt(t/1e3/60/60/24)-12*r*30-30*n,o=parseInt(t/1e3/60/60)-12*r*30*24-30*n*24-24*l,i=parseInt(t/1e3/60)-12*r*30*24*60-30*n*24*60-24*l*60-60*o,s=[];return r&&s.push(r+" years"),n&&s.push(n+" months"),l&&s.push(l+" days"),o&&s.push(o+" hours"),i&&s.push(i+" mins"),s.join(", ")},a.formatIntegers=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(4),i=r(o),s=function(e){var a=e.className,t=e.icon;return"whatsapp"===t?l.default.createElement("svg",{className:a,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/2000/xlink",viewBox:"0 0 90 90"},l.default.createElement("use",{xlinkHref:(0,i.default)("../images/whatsapp-logo.svg")+"#"+t})):l.default.createElement("svg",{className:a,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/2000/xlink",viewBox:"0 0 64 64"},l.default.createElement("use",{xlinkHref:(0,i.default)("../images/blizzard-icons.svg")+"#"+t}))};a.default=s},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(14);(function(e){e&&e.__esModule})(r),t(9);a.default=function(e){var a=t(18).images,r=new RegExp(e+"$"),n=a.find(function(e){return r.test(e.original)});return n?n.compiled.toString():""}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=a.BASE_URL="https://:region.api.battle.net";a.AVATAR_URL="https://render-us.worldofwarcraft.com/character/",a.CHARACTER=r+"/wow/character/:realm/:characterName",a.ITEM=r+"/wow/item/:itemId",a.ITEM_SET=r+"/wow/item/set/:setId",a.DATA_REALMS=r+"/wow/realm/status",a.DATA_RACES=r+"/wow/data/character/races",a.DATA_CLASSES=r+"/wow/data/character/classes",a.DATA_TALENTS=r+"/wow/data/talents"},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function o(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),s=t(0),c=r(s),u=t(4),d=r(u),p=function(e){function a(e){n(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleToggle=t.handleToggle.bind(t),t.state={isOpen:!e.data||void 0===e.data.isOpen||e.data.isOpen},t}return o(a,e),i(a,[{key:"handleToggle",value:function(){var e=this.props,a=e.handleToggleCollapsable;if(!e.disabled)return a?a({element:this}):this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this.props,a=e.data,t=e.disabled,r=e.children,n=a&&void 0!==a.isOpen?a.isOpen:this.state.isOpen;return c.default.createElement("section",{className:"Collapsable "+(n||t?"is-open":"")+" "+(t?"is-disabled":"")},c.default.createElement("div",{className:"Collapsable-head",onClick:this.handleToggle},c.default.createElement("h2",{className:"Collapsable-title"},a.title),!t&&c.default.createElement("span",{className:"Collapsable-icon"})),c.default.createElement("div",{className:"Collapsable-body",style:{backgroundImage:"url("+(0,d.default)("../images/background-leather.jpg")+")"}},r))}}]),a}(s.Component);p.propTypes={data:s.PropTypes.shape({title:s.PropTypes.string,slug:s.PropTypes.string}).isRequired,disabled:s.PropTypes.bool},p.defaultProps={disabled:!1},p.displayName="Collapsable",a.default=p},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(e){var a=e.error.data;return n.default.createElement("div",{className:"Error"},n.default.createElement("p",{className:"Error-msg"},a&&a.reason||a&&a.error||"Unexpected error"))};a.default=l},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.FETCH_RACES_REQUEST="FETCH_RACES_REQUEST",a.FETCH_RACES_SUCCESS="FETCH_RACES_SUCCESS",a.FETCH_RACES_ERROR="FETCH_RACES_ERROR",a.FETCH_CLASSES_REQUEST="FETCH_CLASSES_REQUEST",a.FETCH_CLASSES_SUCCESS="FETCH_CLASSES_SUCCESS",a.FETCH_CLASSES_ERROR="FETCH_CLASSES_ERROR",a.FETCH_REALMS_REQUEST="FETCH_REALMS_REQUEST",a.FETCH_REALMS_SUCCESS="FETCH_REALMS_SUCCESS",a.FETCH_REALMS_ERROR="FETCH_REALMS_ERROR",a.FETCH_TALENTS_REQUEST="FETCH_TALENTS_REQUEST",a.FETCH_TALENTS_SUCCESS="FETCH_TALENTS_SUCCESS",a.FETCH_TALENTS_ERROR="FETCH_TALENTS_ERROR",a.FETCH_CHARACTER_REQUEST="FETCH_CHARACTER_REQUEST",a.FETCH_CHARACTER_SUCCESS="FETCH_CHARACTER_SUCCESS",a.FETCH_CHARACTER_ERROR="FETCH_CHARACTER_ERROR",a.SWITCH_CHARACTER="SWITCH_CHARACTER",a.MOVE_CHARACTER="MOVE_CHARACTER",a.REMOVE_CHARACTER="REMOVE_CHARACTER"},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.API_KEY="mdweezmxwq7r68jwymtfhvzs2yn2dnsq";a.SESSION_SECRET="asdqewczx"},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(7),i=r(o),s=function(e){var a=e.type,t=(e.name,e.reference),r=e.placeholder,n=e.required,o=e.error;return l.default.createElement("label",{className:"Input "+(o?"is-invalid":"")},l.default.createElement("span",{className:"Input-label"},r),l.default.createElement("input",{className:"Input-field",type:a,required:n,ref:t}),o&&l.default.createElement(i.default,{error:{data:o}}))};s.propTypes={type:n.PropTypes.string,name:n.PropTypes.string,reference:n.PropTypes.func,placeholder:n.PropTypes.string,value:n.PropTypes.string,required:n.PropTypes.bool,error:n.PropTypes.shape({valid:n.PropTypes.bool.isRequired,error:n.PropTypes.string.isRequired})},s.defaultProps={type:"text",name:"",reference:function(){},placeholder:"",required:!1},s.displayName="Input",a.default=s},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(3),i=r(o),s=t(7),c=r(s),u=function(e){var a=e.name,t=e.reference,r=e.options,n=e.placeholder,o=e.handleChange,s=e.value,u=e.required,d=e.error;return l.default.createElement("label",{className:"Select "+(d?"is-invalid":"")},l.default.createElement("span",{className:"Select-label"},n),l.default.createElement("select",{name:a,className:"Select-field",required:u,ref:t,defaultValue:s,onChange:o},r.map(function(e){return l.default.createElement("option",{value:e.slug,key:e.slug},e.name," ",e.timezone?"("+e.timezone+")":"")})),d&&l.default.createElement(c.default,{error:{data:d}}),l.default.createElement(i.default,{className:"Select-arrow",icon:"leftarrow"}))};u.propTypes={options:n.PropTypes.arrayOf(n.PropTypes.shape({name:n.PropTypes.string.isRequired,slug:n.PropTypes.string.isRequired,timezone:n.PropTypes.string})),reference:n.PropTypes.func,placeholder:n.PropTypes.string,handleChange:n.PropTypes.func,required:n.PropTypes.bool,error:n.PropTypes.shape({valid:n.PropTypes.bool.isRequired,error:n.PropTypes.string.isRequired})},u.defaultProps={options:[],name:"",reference:function(){},placeholder:"",handleChange:function(){},required:!1},u.displayName="Select",a.default=u},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=a.HOME="/(:region-:language)";a.COMPARE=r+"(/:characters)"},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.CALL_API=void 0;var r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n=function(){function e(e,a){var t=[],r=!0,n=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(t.push(o.value),!a||t.length!==a);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return t}return function(a,t){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=t(33),o=function(e){return e&&e.__esModule?e:{default:e}}(l),i=a.CALL_API="CALL_API";a.default=function(e){return function(e){return function(a){var t=a[i];if(!t)return e(a);var l=t.endpoint,s=t.method,c=void 0===s?"get":s,u=t.parameters,d=void 0===u?{}:u,p=t.extra,f=void 0===p?{}:p,m=t.types,g=n(m,3),h=g[0],v=g[1],E=g[2],b=function(e){var a=r({data:e},f);return{type:v,payload:a}},y=function(e){return{type:E,payload:r({error:e},f)}};return e(function(){return{type:h,payload:r({},f)}}()),(0,o.default)()[c.toLowerCase()](l,d).then(function(a){return e(b(a)),Promise.resolve(a)}).catch(function(a){return e(y(a)),Promise.reject(a)})}}}},function(e,a){e.exports=require("debug")},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(15),i=(r(o),function(e){var a=e.data,t=e.label,r=e.onError;return a.error?l.default.createElement("span",{className:"Builder-item is-error"},"☒ ",r):!a.error&&!a.isFetching&&a.collection.length&&a.collection.length>0?l.default.createElement("span",{className:"Builder-item is-success"},"☑ ",t):l.default.createElement("span",{className:"Builder-item"},"... ",t)});i.displayName="Builder",a.default=i},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0}),a.Loading=a.default=void 0;var n=t(0),l=r(n),o=t(4),i=r(o),s=t(41),c=(r(s),function(){return l.default.createElement("div",{className:"Character-header is-loading"},l.default.createElement("img",{alt:"Loading character placeholder",className:"Character-placeholder",src:(0,i.default)("../images/favicons/android-chrome-192x192.png")}),l.default.createElement("p",{className:"Character-name"},"Loading fighter's data..."))}),u=function(e){var a=e.className;return l.default.createElement("p",{className:a},"Loading")};a.default=c,a.Loading=u},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){return n.default.createElement("div",{className:"Spacer"})};l.displayName="Spacer",a.default=l},function(e,a){e.exports={script:["/main-4586323f315fb33b7bf5.min.js"],style:["/styles/main-4586323f315fb33b7bf5.min.css"],images:[{original:"./src/images/favicons/android-chrome-128x128.png",compiled:"/src/images/favicons/android-chrome-128x128_f99c7203c6692c553a727e8d11702877.png"},{original:"./src/images/favicons/android-chrome-192x192.png",compiled:"/src/images/favicons/android-chrome-192x192_c772fdc86cd9d4bab25503bc1f6f0c73.png"},{original:"./src/images/favicons/apple-touch-icon-120x120.png",compiled:"/src/images/favicons/apple-touch-icon-120x120_f24410acfb6204230e79964efd6c2e89.png"},{original:"./src/images/favicons/apple-touch-icon-152x152.png",compiled:"/src/images/favicons/apple-touch-icon-152x152_f76f4846722aab21952ff47904b6e169.png"},{original:"./src/images/favicons/apple-touch-icon-167x167.png",compiled:"/src/images/favicons/apple-touch-icon-167x167_3e805182838151874a911eb7e462f3ac.png"},{original:"./src/images/favicons/apple-touch-icon-180x180.png",compiled:"/src/images/favicons/apple-touch-icon-180x180_71f841936ae2a0788579d29df136cab7.png"},{original:"./src/images/favicons/favicon-36x36.png",compiled:"/src/images/favicons/favicon-36x36_148348ddb824108c4702183f5c2e041b.png"},{original:"./src/images/favicons/favicon-48x48.png",compiled:"/src/images/favicons/favicon-48x48_e33e5a35c03f183e86b497943a9f31a7.png"},{original:"./src/images/favicons/favicon-72x72.png",compiled:"/src/images/favicons/favicon-72x72_5299eb099c16862a076f62bee2503df0.png"},{original:"./src/images/favicons/favicon-96x96.png",compiled:"/src/images/favicons/favicon-96x96_ee9ba2939e1d967146f4181b3ec2146d.png"},{original:"./src/images/background-leather.jpg",compiled:'throw new Error("Module build failed: Error: dyld: Library not loaded: /usr/local/opt/libpng/lib/libpng16.16.dylib\\n  Referenced from: /Users/rperez/dev/custom/character-arena/node_modules/mozjpeg/vendor/cjpeg\\n  Reason: image not found\\n\\n    at Promise.all.then.arr (/Users/rperez/dev/custom/character-arena/node_modules/execa/index.js:201:11)\\n    at process._tickDomainCallback (internal/process/next_tick.js:135:7)")'},{original:"./src/images/background.jpg",compiled:'throw new Error("Module build failed: Error: dyld: Library not loaded: /usr/local/opt/libpng/lib/libpng16.16.dylib\\n  Referenced from: /Users/rperez/dev/custom/character-arena/node_modules/mozjpeg/vendor/cjpeg\\n  Reason: image not found\\n\\n    at Promise.all.then.arr (/Users/rperez/dev/custom/character-arena/node_modules/execa/index.js:201:11)\\n    at process._tickDomainCallback (internal/process/next_tick.js:135:7)")'},{original:"./src/images/blizzard-icons.svg",compiled:"/src/images/blizzard-icons_92ea4255f59fbde5d476d890a16a6126.svg"},{original:"./src/images/logo-alliance.png",compiled:"/src/images/logo-alliance_329bef8fb2bf637acf293336885f7a05.png"},{original:"./src/images/logo-horde.png",compiled:"/src/images/logo-horde_2f628d75a0dc1092c26cf5d750e86783.png"},{original:"./src/images/whatsapp-logo.svg",compiled:"/src/images/whatsapp-logo_ca9c5ddd23bccf966c9306f5603125ed.svg"}]}},function(e,a){e.exports=require("react-redux")},function(e,a){e.exports=require("react-router")},function(e,a){e.exports=require("redux")},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(20),i=t(34),s=r(i),c=t(52),u=r(c),d=t(12);a.default=function(e){return l.default.createElement(o.Route,{component:s.default},l.default.createElement(o.Route,{path:d.HOME,component:u.default}),l.default.createElement(o.Route,{path:d.COMPARE,component:u.default}))}},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};a.default=function(e){return function(a,t,r){var l=e.routes(t.locals.store);return(0,c.match)({routes:l,location:a.url},function(e,l,i){if(l)t.redirect(302,l.pathname+l.search);else if(e)r(e);else if(i){var d=t.locals.store,f=i.components,m=i.params;n({},m),f[f.length-1];(function(){return Promise.resolve()})(d.dispatch).then(function(){var e=s.default.renderToString(o.default.createElement(u.Provider,{store:d},o.default.createElement(c.RouterContext,i))),a=(0,p.default)(e,{initialState:d.getState()});t.status(200).send(a)}).catch(function(e){return 401===e.status?t.redirect(a.path):r(e)})}else a.accepts("html"),t.status(404).type("txt").send("Not found")})}};var l=t(0),o=r(l),i=t(62),s=r(i),c=t(20),u=t(19),d=t(58),p=r(d)},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};a.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"store"};return function(a,t,n){var o=e.name,i=a.session.prevState;t.locals[o]=(0,l.default)(r({},i)),a.session.prevState=void 0,n()}};var n=t(56),l=function(e){return e&&e.__esModule?e:{default:e}}(n)},function(e,a){e.exports=require("body-parser")},function(e,a){e.exports=require("compression")},function(e,a){e.exports=require("express")},function(e,a){e.exports=require("express-session")},function(e,a){e.exports=require("fs")},function(e,a){e.exports=require("session-file-store")},function(e,a,t){"use strict";function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}Object.defineProperty(a,"__esModule",{value:!0}),a.removeCharacter=a.moveCharacter=a.switchCharacter=a.fetchCharacter=void 0;var n=t(8),l=t(5),o=t(13),i=t(2),s=["guild","items","stats","talents"],c=function(e,a){var t=e.region,c=e.language,u=e.realm,d=void 0===u?"":u,p=e.characterName,f=void 0===p?"":p,m=e.fields,g=void 0===m?s:m;return r({},o.CALL_API,{endpoint:(0,i.composeUrl)({url:l.CHARACTER,region:t,language:c,character:{realm:d,characterName:f},fields:g})+(a?"&t="+(new Date).getTime():""),types:[n.FETCH_CHARACTER_REQUEST,n.FETCH_CHARACTER_SUCCESS,n.FETCH_CHARACTER_ERROR],extra:{realm:d,name:f}})},u=function(e){var a=e.realm,t=e.name;return{type:n.SWITCH_CHARACTER,extra:{realm:a,name:t}}},d=function(e,a){var t=e.realm,r=e.name;return{type:n.MOVE_CHARACTER,extra:{realm:t,name:r,movement:a}}},p=function(e){var a=e.realm,t=e.name;return{type:n.REMOVE_CHARACTER,extra:{realm:a,name:t}}};a.fetchCharacter=c,a.switchCharacter=u,a.moveCharacter=d,a.removeCharacter=p},function(e,a,t){"use strict";function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}Object.defineProperty(a,"__esModule",{value:!0}),a.fetchTalents=a.fetchRealms=a.fetchClasses=a.fetchRaces=void 0;var n=t(8),l=t(5),o=t(13),i=t(2),s=function(e){var a=e.region,t=void 0===a?"us":a,s=e.language,c=void 0===s?"en":s;return r({},o.CALL_API,{endpoint:(0,i.composeUrl)({url:l.DATA_RACES,region:t,language:c}),types:[n.FETCH_RACES_REQUEST,n.FETCH_RACES_SUCCESS,n.FETCH_RACES_ERROR]})},c=function(e){var a=e.region,t=void 0===a?"us":a,s=e.language,c=void 0===s?"en":s;return r({},o.CALL_API,{endpoint:(0,i.composeUrl)({url:l.DATA_CLASSES,region:t,language:c}),types:[n.FETCH_CLASSES_REQUEST,n.FETCH_CLASSES_SUCCESS,n.FETCH_CLASSES_ERROR]})},u=function(e){var a=e.region,t=void 0===a?"us":a,s=e.language,c=void 0===s?"en":s;return r({},o.CALL_API,{endpoint:(0,i.composeUrl)({url:l.DATA_REALMS,region:t,language:c}),types:[n.FETCH_REALMS_REQUEST,n.FETCH_REALMS_SUCCESS,n.FETCH_REALMS_ERROR]})},d=function(e){var a=e.region,t=void 0===a?"us":a,s=e.language,c=void 0===s?"en":s;return r({},o.CALL_API,{endpoint:(0,i.composeUrl)({url:l.DATA_TALENTS,region:t,language:c}),types:[n.FETCH_TALENTS_REQUEST,n.FETCH_TALENTS_SUCCESS,n.FETCH_TALENTS_ERROR]})};a.fetchRaces=s,a.fetchClasses=c,a.fetchRealms=u,a.fetchTalents=d},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),i=t(60),s=r(i),c=t(61),u=(r(c),t(9)),d=(t(5),function(){function e(){n(this,e),this.client=s.default.create({"Content-Encoding":"gzip"});var a=function(e){return l({},e,{url:e.url+"&apiKey="+u.API_KEY})},t=function(e){return e.data},r=function(e){return Promise.reject(e.response||e)};this.client.interceptors.request.use(a),this.client.interceptors.response.use(t,r)}return o(e,[{key:"get",value:function(e,a){return this.client.get(e,l({},a))}}]),e}());a.default=function(e){return new d}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(0),n=(function(e){e&&e.__esModule}(r),function(e){return e.children});n.displayName="App",a.default=n},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(4),i=r(o),s=t(15),c=r(s),u=t(6),d=r(u),p=function(e){var a=e.realms,t=e.races,r=e.classes,n=e.talents,o="Character Builder "+(!a.isFetching&&!a.error&&a.collection.length>0&&!t.isFetching&&!t.error&&t.collection.length>0&&!r.isFetching&&!r.error&&r.collection.length>0&&!n.isFetching&&!n.error?"is-complete":"");return l.default.createElement("div",{className:o},l.default.createElement("div",{className:"Builder-wrapper"},l.default.createElement("div",{className:"Character-header is-loading"},l.default.createElement("img",{alt:"App logo",className:"Character-placeholder",src:(0,i.default)("../images/favicons/android-chrome-192x192.png")}),l.default.createElement("p",{className:"Character-name"},"Building the arena")),l.default.createElement(d.default,{data:{},disabled:!0},l.default.createElement("div",{className:"Builder-info"},l.default.createElement(c.default,{data:a,label:"Sending messages to all kingdoms",onError:"Some kingdoms could not attend the call. Please, try again later."}),l.default.createElement("br",null),l.default.createElement(c.default,{data:t,label:"Listing the races of all participants",onError:"Some of the most powerful races could not participate on this arena. Please, try again later."}),l.default.createElement("br",null),l.default.createElement(c.default,{data:r,label:"Sending all classes to their class halls",onError:"Some class halls are not in conditions to host their guests. Please, try again later."}),l.default.createElement("br",null),l.default.createElement(c.default,{data:n,label:"Teaching skills and rules to participants",onError:"Some participants don't have neccessary skills to participate on this arena. Please, try again later."})))))};p.displayName="Builder",a.default=p},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function o(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),c=t(0),u=r(c),d=t(11),p=(r(d),t(10)),f=(r(p),t(16)),m=r(f),g=t(7),h=r(g),v=t(17),E=(r(v),t(6)),b=r(E),y=t(37),C=r(y),T=t(43),_=r(T),R=t(40),S=r(R),P=t(46),O=r(P),w=function(e){function a(){return n(this,a),l(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return o(a,e),s(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.sections,r=a.region,n=a.language,l=a.handleToggleCollapsable,o=a.handleSwitchCharacter,s=a.handleMoveCharacter,c=a.handleRefreshCharacter,d=a.handleRemoveCharacter,p=a.character,f=a.comparedTo,g=a.isFirst,v=a.isLast,E=this,y=p.talents&&p.talents.find(function(e){return!0===e.selected}),T=f&&f.talents&&f.talents.find(function(e){return!0===e.selected}),R=y&&y.spec&&y.spec.backgroundImage&&T&&T.spec&&T.spec.backgroundImage,P=R&&y.spec.backgroundImage!==T.spec.backgroundImage;return u.default.createElement("div",{className:"Character "+(p.race?"is-"+p.race.side:"")},p&&p.isFetching&&u.default.createElement(m.default,null),p&&p.error&&u.default.createElement(h.default,{error:p.error}),p&&!p.isFetching&&!p.error&&u.default.createElement("div",{className:"Character-data"},u.default.createElement(C.default,{character:p,handleSwitchCharacter:o,handleMoveCharacter:s,handleRefreshCharacter:c,handleRemoveCharacter:d,isMain:!f,isFirst:g,isLast:v}),u.default.createElement(_.default,{character:p,comparedTo:f,region:r,language:n,selectedTalents:y,comparedToTalents:T,shouldCompare:R,isDifferentSpec:P}),Object.keys(t).map(function(e){var a=t[e];if(a.elements){var r={},n={};switch(e){case"attributes":r=i({},p.items,p.stats),n=f?i({},f.items,f.stats):void 0;break;default:r=p.stats,n=f&&f.stats}return r.role=p.talents[0].spec.role,n&&(n.role=f.talents[0].spec.role),u.default.createElement(b.default,{key:"section-"+a.slug,data:a,ref:function(e){E[a.slug]=e},handleToggleCollapsable:l},u.default.createElement(S.default,{elements:a.elements,data:r,spec:!0===R&&f?f.talents[0].spec.backgroundImage:p.talents[0].spec.backgroundImage,comparedTo:n,shouldCompare:R&&!P}))}}),u.default.createElement(b.default,{data:t.talents,ref:function(a){e.talents=a},handleToggleCollapsable:l},u.default.createElement(O.default,{usedTalents:y,availableTalents:p.availableTalents,comparedTo:T,shouldCompare:R}))))}}]),a}(c.Component);w.propTypes={sections:c.PropTypes.object.isRequired,region:c.PropTypes.string.isRequired,language:c.PropTypes.string.isRequired,handleToggleCollapsable:c.PropTypes.func.isRequired,isFirst:c.PropTypes.bool.isRequired,isLast:c.PropTypes.bool.isRequired,handleSwitchCharacter:c.PropTypes.func.isRequired,handleMoveCharacter:c.PropTypes.func.isRequired,handleRefreshCharacter:c.PropTypes.func.isRequired,handleRemoveCharacter:c.PropTypes.func.isRequired,character:c.PropTypes.shape({name:c.PropTypes.string.isRequired,realm:c.PropTypes.string.isRequired,thumbnail:c.PropTypes.string,race:c.PropTypes.object,class:c.PropTypes.object,items:c.PropTypes.object,stats:c.PropTypes.object,talents:c.PropTypes.array,availableTalents:c.PropTypes.object}).isRequired,comparedTo:c.PropTypes.shape({name:c.PropTypes.string.isRequired,thumbnail:c.PropTypes.string.isRequired,race:c.PropTypes.object.isRequired,class:c.PropTypes.object.isRequired,items:c.PropTypes.object.isRequired,stats:c.PropTypes.object.isRequired,talents:c.PropTypes.array.isRequired,availableTalents:c.PropTypes.object.isRequired})},w.displayName="Character",a.default=w},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(3),i=r(o),s=function(e){var a=e.character,t=e.handleSwitchCharacter,r=e.handleMoveCharacter,n=e.handleRefreshCharacter,o=e.handleRemoveCharacter,s=e.isMain,c=e.isFirst,u=e.isLast;return l.default.createElement("div",{className:"CharacterActions"},!s&&l.default.createElement("button",{title:"Compare all characters with this character",className:"Button Button--icon Button--invisible",onClick:function(){t({character:a})}},l.default.createElement(i.default,{className:"Button-icon",icon:"favorite"})),!s&&!c&&l.default.createElement("button",{title:"Move this character to left",className:"Button Button--icon Button--invisible",onClick:function(){r({character:a,movement:-1})}},l.default.createElement(i.default,{className:"Button-icon",icon:"leftarrow"})),!s&&!u&&l.default.createElement("button",{title:"Move this character to right",className:"Button Button--icon Button--invisible",onClick:function(){r({character:a,movement:1})}},l.default.createElement(i.default,{className:"Button-icon",icon:"rightarrow"})),l.default.createElement("button",{title:"Refresh character data",className:"Button Button--icon Button--invisible",onClick:function(){n({character:a})}},l.default.createElement(i.default,{className:"Button-icon",icon:"clock"})),l.default.createElement("button",{title:"Remove this character from list",className:"Button Button--icon Button--invisible",onClick:function(){o({character:a})}},l.default.createElement(i.default,{className:"Button-icon",icon:"close"})))};s.displayName="CharacterActions",a.default=s},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(4),i=r(o),s=t(5),c=function(e){var a=e.picture,t=e.faction,r=""+s.AVATAR_URL+a.replace("avatar","main");return l.default.createElement("div",{className:"Character-appearance",style:{backgroundImage:"url("+r+")"}},"alliance"===t&&l.default.createElement("img",{alt:"Faction's logo",className:"Character-factionLogo",src:(0,i.default)("../images/logo-alliance.png")}),"horde"===t&&l.default.createElement("img",{alt:"Faction's logo",className:"Character-factionLogo",src:(0,i.default)("../images/logo-horde.png")}))};c.propTypes={picture:n.PropTypes.string.isRequired,faction:n.PropTypes.string.isRequired},c.displayName="CharacterAppearance",a.default=c},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(2),i=t(3),s=r(i),c=function(e){var a=e.label,t=e.slug,r=e.icon,n=e.value,i=e.difference,c=e.percentageValue,u=e.percentageDifference,d=e.shouldCompare;e.isPercentage;return l.default.createElement("div",{className:"CharacterAttributes-item color--"+t},!d&&l.default.createElement("span",{className:"CharacterAttributes-label"},l.default.createElement(s.default,{className:"CharacterAttributes-icon",icon:r||t}),l.default.createElement("span",null,a)),l.default.createElement("span",{className:"CharacterAttributes-valuesWrapper"},void 0!==i&&l.default.createElement("span",{className:"CharacterAttributes-value Comparator-difference "+(i>0?"Comparator--greater":"Comparator--lower")},i>0?"+"+(0,o.formatIntegers)(i):(0,o.formatIntegers)(i),void 0!==u&&l.default.createElement("span",null,l.default.createElement("br",null),u>0?"+"+u:u,"%")),l.default.createElement("span",{className:"CharacterAttributes-value"},""+(0,o.formatIntegers)(parseInt(n,10)),void 0!==c&&l.default.createElement("span",null,l.default.createElement("br",null),parseInt(c,10),"%"))))};c.propTypes={label:n.PropTypes.string.isRequired,slug:n.PropTypes.string.isRequired,icon:n.PropTypes.string,value:n.PropTypes.number.isRequired,difference:n.PropTypes.number,percentageValue:n.PropTypes.number,percentageDifference:n.PropTypes.number,shouldCompare:n.PropTypes.bool,isPercentage:n.PropTypes.bool},c.defaultProps={shouldCompare:!1,isPercentage:!1},c.displayName="CharacterAttribute",a.default=c},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(2),i=t(39),s=r(i),c=function(e){var a=e.elements,t=e.data,r=e.spec,n=e.comparedTo,i=e.shouldCompare;return l.default.createElement("div",{className:"CharacterAttributes "+(i?"CharacterAttributes--right":"")},a.map(function(e){var a="versatility"===e.slug,c=void 0,u=void 0,d=void 0,p=void 0,f=void 0,m=void 0;if(a)c=e.slug+("HEALING"===t.role?"Healing":"Damage")+"DoneBonus",d=t[c],p=(0,o.compare)({base:t,comparedTo:n,key:c}),f=t[e.slug],m=(0,o.compare)({base:t,comparedTo:n,key:e.slug});else if(e.isPower){if((!i||!n)&&e.slug!==t.powerType||i&&n&&n.powerType&&e.slug!==n.powerType)return;f=i&&n&&t.powerType!==n.powerType?0:t.power,m=(0,o.compare)({base:t,comparedTo:n,key:c})}else if(e.isSpecBased){if((!i||!n)&&!(0,o.getSpecResource)({powerType:t.powerType,role:t.role,resource:e.slug,spec:r})||i&&n&&!(0,o.getSpecResource)({powerType:n.powerType,role:n.role,resource:e.slug,spec:r}))return;f=t[e.slug],m=(0,o.compare)({base:t,comparedTo:n,key:e.slug})}else u=void 0!==t[e.slug+"Rating"],d=u?t[e.slug]:void 0,p=u?(0,o.compare)({base:t,comparedTo:n,key:e.slug}):void 0,f=u?t[e.slug+"Rating"]:t[e.slug],m=n?(0,o.compare)({base:t,comparedTo:n,key:u?e.slug+"Rating":e.slug}):void 0;return l.default.createElement(s.default,{key:"attr-"+e.slug,label:e.name,slug:e.slug,icon:e.icon,value:f,difference:i?m:void 0,percentageValue:d,percentageDifference:i?p:void 0,shouldCompare:i,isPercentage:u||a})}))};c.propTypes={elements:n.PropTypes.arrayOf(n.PropTypes.shape({name:n.PropTypes.string.isRequired,slug:n.PropTypes.string.isRequired})).isRequired,data:n.PropTypes.object.isRequired,spec:n.PropTypes.string.isRequired,comparedTo:n.PropTypes.object,hideLabels:n.PropTypes.bool},c.defaultProps={hideLabels:!1},c.displayName="CharacterAttributesGroup",a.default=c},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(3),i=r(o),s=t(5),c=(t(1),function(e){var a=e.picture,t=e.faction;return l.default.createElement("div",{className:"CharacterAvatar"},l.default.createElement("div",{className:"CharacterAvatar-wrapper"},a&&l.default.createElement("img",{alt:"Character avatar",className:"CharacterAvatar-picture",src:""+s.AVATAR_URL+a})),t.length>0&&l.default.createElement(i.default,{className:"CharacterAvatar-faction CharacterAvatar--"+t,icon:t}))});c.propTypes={picture:n.PropTypes.string,faction:n.PropTypes.string},c.defaultProps={faction:""},c.displayName="CharacterAvatar",a.default=c},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function o(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),c=t(0),u=r(c),d=t(11),p=r(d),f=t(10),m=r(f),g=t(7),h=r(g),v=(t(16),t(6)),E=r(v),b={valid:!1,touched:!1,submitting:!1,submitted:!1,realm:{valid:!0,error:""},characterName:{valid:!0,error:""}},y=function(e){function a(e){n(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleOnSubmit=t.handleOnSubmit.bind(t),t.state=i({},b),t}return o(a,e),s(a,[{key:"handleOnSubmit",value:function(e){e.preventDefault();var a=this.realm,t=this.characterName,r=this.props.handleFetchCharacter,n=i({},b,{valid:!0,touched:!0});t.value&&t.value.length&&" "!==t.value||(n=i({},n,{valid:!1,characterName:{valid:!1,error:"Character name is required"}})),this.setState(i({},n)),n.valid&&(r({realm:a.value,characterName:t.value}),t.value="")}},{key:"render",value:function(){var e=this,a=this.props,t=a.reference,r=a.collapsableData,n=a.handleToggleCollapsable,l=(a.handleFetchCharacter,a.availableRealms),o=a.error,i=this.state,s=i.realm,c=i.characterName;return u.default.createElement("div",{className:"Character"},u.default.createElement(E.default,{data:r,ref:t,handleToggleCollapsable:n,disabled:!0},u.default.createElement("form",{className:"Character-filters",onSubmit:this.handleOnSubmit,noValidate:!0},u.default.createElement(p.default,{name:"realm",options:l,reference:function(a){e.realm=a},placeholder:"Character's realm",required:!0,error:s.valid?void 0:s}),u.default.createElement(m.default,{name:"characterName",reference:function(a){e.characterName=a},placeholder:"Character's name",required:!0,error:c.valid?void 0:c}),u.default.createElement("button",{type:"submit",className:"Button"},"Search"),o&&u.default.createElement(h.default,{error:o}))))}}]),a}(c.Component);y.propTypes={reference:c.PropTypes.func,collapsableData:c.PropTypes.object.isRequired,availableRealms:c.PropTypes.array.isRequired,handleFetchCharacter:c.PropTypes.func.isRequired,handleToggleCollapsable:c.PropTypes.func,error:c.PropTypes.object},y.displayName="CharacterFinder",a.default=y},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(2),i=t(1),s=t(3),c=r(s),u=t(38),d=r(u),p=t(44),f=r(p),m=function(e){var a=e.character,t=(e.comparedTo,e.region),r=e.language,n=e.selectedTalents,s=(e.comparedToTalents,e.shouldCompare),u=e.isDifferentSpec;return l.default.createElement("div",{className:"Character-header"},l.default.createElement(d.default,{picture:a.thumbnail,faction:a.race.side}),l.default.createElement("span",{className:"Character-name color--"+a.class.slug},a.name),l.default.createElement("div",{className:"Character-links"},l.default.createElement("a",{className:"Character-link",title:"View on World of Warcraft armory",target:"_blank",rel:"noopener noreferrer",href:(0,o.fillUrlData)({url:i.WORLDOFWARCRAFT_ARMORY,region:t,language:r,realm:(0,o.getSlug)({name:a.realm}),characterName:(0,o.getSlug)({name:a.name})})},l.default.createElement(c.default,{className:"Character-linkIcon",icon:"wow"})),l.default.createElement("a",{className:"Character-link",title:"View on WowProgress",target:"_blank",rel:"noopener noreferrer",href:(0,o.fillUrlData)({url:i.WOWPROGRESS_CHAR,region:t,realm:(0,o.getSlug)({name:a.realm,useDashes:!0}),characterName:a.name})},l.default.createElement("img",{alt:"Link to WoWProgress.com",className:"Character-linkIcon",src:i.WOWPROGRESS_ICON}))),l.default.createElement(f.default,{className:"Character-spec",level:a.level,characterClass:a.class,spec:n&&n.spec,shouldCompare:s,isDifferentSpec:u}),a&&a.guild&&l.default.createElement("div",{className:"Character-guild"},"Guild: ",l.default.createElement("span",{className:"Character-guildName"},a.guild.name),l.default.createElement("div",{className:"Character-links"},l.default.createElement("a",{className:"Character-link",title:"View World of Warcraft guild's page",target:"_blank",rel:"noopnenernoopener noreferrer",href:(0,o.fillUrlData)({url:i.WORLDOFWARCRAFT_GUILD,region:t,language:r,realm:(0,o.getSlug)({name:a.guild.realm}),guild:(0,o.getSlug)({name:a.guild.name,useLowDashes:!0},!0)})},l.default.createElement(c.default,{className:"Character-linkIcon",icon:"wow"})),l.default.createElement("a",{className:"Character-link",title:"View WoWProgress guild's page",target:"_blank",rel:"noopnenernoopener noreferrer",href:(0,o.fillUrlData)({url:i.WOWPROGRESS_GUILD,region:t,realm:(0,o.getSlug)({name:a.guild.realm,useDashes:!0}),guild:(0,o.getSlug)({name:a.guild.name,usePluses:!0})})},l.default.createElement("img",{alt:"Link to WoWProgress.com",className:"Character-linkIcon",src:i.WOWPROGRESS_ICON})))),l.default.createElement("p",{className:"Character-lastUpdate"},l.default.createElement("span",{className:"Character-lastUpdateLabel"},"Last update"),(0,o.getRelativeTime)(a.lastModified)))};a.default=m},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(45),i=(r(o),function(e){var a=e.className,t=e.level,r=e.characterClass,n=e.spec,o=e.shouldCompare,i=e.isDifferentSpec;return l.default.createElement("span",{className:"Specialization "+a+" "+(o&&!i?"is-equal":"")+" "+(o&&i?"is-different":"")},l.default.createElement("span",{className:"Character-specName"},t," ",r.name," ",n.name))});i.propTypes={className:n.PropTypes.string,level:n.PropTypes.number.isRequired,characterClass:n.PropTypes.shape({name:n.PropTypes.string.isRequired}).isRequired,spec:n.PropTypes.shape({name:n.PropTypes.string,icon:n.PropTypes.string}),comparedTo:n.PropTypes.shape({name:n.PropTypes.string,icon:n.PropTypes.string})},i.defaultProps={className:""},i.displayName="CharacterSpec",a.default=i},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=t(2),o=t(1),i=function(e){var a=e.icon;return a?n.default.createElement("img",{alt:"Specialization icon",className:"Character-specIcon",src:(0,l.fillUrlData)({url:o.TALENT_ICON,iconName:a})}):n.default.createElement("div",null)};i.displayName="CharacterSpecIcon",a.default=i},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=t(0),o=r(l),i=t(47),s=r(i),c=function(e){var a=e.usedTalents,t=e.availableTalents,r=e.comparedTo;if(!a||!a.spec.name)return o.default.createElement("div",null,"No spec");var l=r&&r.spec&&r.spec.backgroundImage===a.spec.backgroundImage,i=[];t.talents.forEach(function(e){var t=[];e.forEach(function(e){var r=[];if(e.forEach(function(e){e.spec&&e.spec.backgroundImage!==a.spec.backgroundImage||r.push(e)}),1===r.length){var n=r[0];t[n.column]=n}else{var l=r.find(function(e){return e.spec});t[l.column]=l}}),i.push(t)});for(var c in a.talents){var u=a.talents[c];i[u.tier][u.column]=n({},i[u.tier][u.column],{isUsed:!0,isActive:l})}if(r&&l)for(var d in r.talents){var p=r.talents[d];i[p.tier][p.column]=n({},i[p.tier][p.column],{isRival:l})}return o.default.createElement("div",{className:"CharacterTalents"},i.map(function(e,a){return o.default.createElement("div",{className:"CharacterTalents-tier",key:"tier-"+a},e.map(function(e,t){return o.default.createElement("div",{className:" CharacterTalents-column "+(e.isUsed?"is-used":"")+" "+(e.isActive?"is-active":"")+" "+(e.isRival?"is-rival":""),key:"tier-"+a+"-"+t},o.default.createElement(s.default,{icon:e.spell.icon,description:'"'+e.spell.name+'": '+e.spell.description}))}))}))};c.propTypes={availableTalents:l.PropTypes.object.isRequired,usedTalents:l.PropTypes.object.isRequired,comparedTo:l.PropTypes.object},c.displayName="CharacterTalents",a.default=c},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(0),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=t(2),o=t(1),i=function(e){var a=e.icon,t=e.description;return a?n.default.createElement("img",{alt:"Talent icon",className:"CharacterTalents-talentIcon",src:(0,l.fillUrlData)({url:o.TALENT_ICON,iconName:a}),title:t}):n.default.createElement("div",null)};i.displayName="CharacterTalentsIcon",a.default=i},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(2),i=t(17),s=(r(i),t(1)),c=function(e){var a=e.options,t=a.region,r=a.language;return l.default.createElement("footer",{className:"Footer"},l.default.createElement("div",{className:"Footer-left"},l.default.createElement("p",null,"Created by ",l.default.createElement("a",{className:"Link",target:"_blank",rel:"noopener noreferrer",href:s.IMPERDIBLESOFT},"ImperdibleSoft")),l.default.createElement("p",null,"Help us on ",l.default.createElement("a",{className:"Link",target:"_blank",rel:"noopener noreferrer",href:s.REPO_URL},"Github"))),l.default.createElement("div",{className:"Footer-right"},l.default.createElement("p",null,"Some interesting links:"),l.default.createElement("ul",{className:"Footer-links"},l.default.createElement("li",{className:"Footer-link"},l.default.createElement("a",{className:"Link",target:"_blank",rel:"noopener noreferrer",href:(0,o.fillUrlData)({url:s.LEADERBOARDS_PVE,region:t,language:r})},"PvE Leaderboards")),l.default.createElement("li",{className:"Footer-link"},l.default.createElement("a",{className:"Link",target:"_blank",rel:"noopener noreferrer",href:(0,o.fillUrlData)({url:s.LEADERBOARDS_PVP,region:t,language:r})},"PvP Leaderboards")),l.default.createElement("li",{className:"Footer-link"},l.default.createElement("a",{className:"Link",target:"_blank",rel:"noopener noreferrer",href:s.WOWPROGRESS},"WoW Progress")),l.default.createElement("li",{className:"Footer-link"},l.default.createElement("a",{className:"Link",target:"_blank",rel:"noopener noreferrer",href:s.WOW_WEB_ENHACER},"WoW Website Enhacer")))))};c.displayName="Footer",a.default=c},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(0),l=r(n),o=t(4),i=r(o),s=t(3),c=r(s),u=t(50),d=r(u),p=t(1),f=function(e){var a=e.handleToggleSidebar,t=e.handleGetShareTitle;return l.default.createElement("header",{className:"Header"},l.default.createElement("div",{className:"Header-bar"},l.default.createElement("div",{className:"Header-info"},l.default.createElement("button",{className:"Button Button--invisible Button--icon Header-menu",onClick:a},l.default.createElement(c.default,{className:"Button-icon",icon:"menu"})),l.default.createElement("img",{alt:"App logo",className:"Header-logo",src:(0,i.default)("../images/favicons/favicon-96x96.png")}),l.default.createElement("span",{className:"Header-label"},p.TITLE)),l.default.createElement(d.default,{className:"Header-share",handleGetShareTitle:t})))};f.propTypes={handleToggleSidebar:n.PropTypes.func.isRequired,handleGetShareTitle:n.PropTypes.func.isRequired},f.displayName="Header",a.default=f},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function o(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),s=t(0),c=r(s),u=t(10),d=r(u),p=t(3),f=r(p),m=function(e){function a(e){n(this,a);var t=l(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleWhatsappShare=t.handleWhatsappShare.bind(t),t.state={isModalOpen:!1},t}return o(a,e),i(a,[{key:"componentWillUpdate",value:function(){"undefined"!=typeof window&&this.shareUrl&&(this.shareUrl.value=decodeURI(window.location.href))}},{key:"handleWhatsappShare",value:function(){var e=this.props.handleGetShareTitle;window.open("whatsapp://send?text="+e()+" - "+location.href,"Share with Whatsapp")}},{key:"render",value:function(){var e=this,a=this.props.className;return c.default.createElement("div",{className:"Share "+a},c.default.createElement("button",{className:"Button Button--invisible Button--icon Share-button mobile",title:"Share on Whatsapp",onClick:this.handleWhatsappShare},c.default.createElement(f.default,{className:"Button-icon Share-buttonIcon",icon:"whatsapp"})),c.default.createElement("button",{className:"Button Button--invisible Button--icon Share-button",title:"Share this URL",onClick:function(){e.setState({isModalOpen:!0})}},c.default.createElement(f.default,{className:"Button-icon Share-buttonIcon",icon:"external"})),c.default.createElement("div",{className:"Share-modal "+(this.state.isModalOpen?"is-open":"")},c.default.createElement("div",{className:"Share-modalBody"},c.default.createElement("button",{className:"Button Button--icon Button--invisible Share-modalClose",onClick:function(){e.setState({isModalOpen:!1})}},c.default.createElement(f.default,{className:"Button-icon",icon:"close"})),c.default.createElement("h1",{className:"Share-modalTitle"},"Share this comparision"),c.default.createElement(d.default,{className:"Share-modalUrl",reference:function(a){e.shareUrl=a}}))))}}]),a}(s.Component);m.PropTypes={className:s.PropTypes.string},m.defaultProps={className:""},m.displayName="Share",a.default=m},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function l(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function o(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var i=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),s=t(0),c=r(s),u=t(1),d=t(3),p=r(d),f=t(11),m=r(f),g=t(6),h=r(g),v=function(e){function a(){return n(this,a),l(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return o(a,e),i(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.isOpen,r=a.options,n=a.sections,l=a.handleToggleCollapsable,o=a.handleToggleSidebar,i=a.handleSelectRegion,s=a.handleSelectLanguage,d=this;return c.default.createElement("aside",{className:"Sidebar "+(t?"is-open":"")},c.default.createElement("div",{className:"Sidebar-head"},c.default.createElement("button",{className:"Button Button--icon Button--invisible Sidebar-close",onClick:o},c.default.createElement(p.default,{className:"Button-icon",icon:"close"})),c.default.createElement("span",{className:"Sidebar-label"},"Options"),c.default.createElement("br",{style:{clear:"both"}})),c.default.createElement("div",{className:"Sidebar-body"},c.default.createElement(m.default,{placeholder:"Select your region",options:u.REGIONS,reference:function(a){e.region=a},handleChange:i,value:r.region}),c.default.createElement("br",null),c.default.createElement(m.default,{placeholder:"Select your language",options:u.REGIONS.find(function(e){return e.slug===r.region}).languages,reference:function(a){e.language=a},handleChange:s,value:r.language}),c.default.createElement("br",null),Object.keys(n).map(function(e){var a=n[e];if(a.elements)return c.default.createElement(h.default,{key:"sidebar-"+a.slug,data:a,ref:function(e){d[a.slug]=e},handleToggleCollapsable:l})}),c.default.createElement(h.default,{data:n.talents,ref:function(a){e.talents=a},handleToggleCollapsable:l})))}}]),a}(s.Component);v.propTypes={isOpen:s.PropTypes.bool,options:s.PropTypes.object.isRequired,sections:s.PropTypes.object.isRequired,handleToggleSidebar:s.PropTypes.func.isRequired,handleToggleCollapsable:s.PropTypes.func.isRequired,handleSelectRegion:s.PropTypes.func.isRequired,handleSelectLanguage:s.PropTypes.func.isRequired},v.defaultProps={isOpen:!1},v.displayName="Sidebar",a.default=v},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function o(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function i(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}function s(e){return{characters:e.characters,resources:e.resources}}Object.defineProperty(a,"__esModule",{value:!0});var c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u=function(){function e(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(a,t,r){return t&&e(a.prototype,t),r&&e(a,r),a}}(),d=t(0),p=r(d),f=t(19),m=t(63),g=r(m),h=t(4),v=(r(h),t(2)),E=t(1),b=(t(12),t(31)),y=t(32),C=t(51),T=r(C),_=t(49),R=r(_),S=t(35),P=r(S),O=t(42),w=r(O),N=t(36),A=r(N),L=t(48),j=r(L),k=function(e){function a(e){l(this,a);var t=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));t.handleToggleSidebar=t.handleToggleSidebar.bind(t),t.handleSelectRegion=t.handleSelectRegion.bind(t),t.handleSelectLanguage=t.handleSelectLanguage.bind(t),t.handleToggleCollapsable=t.handleToggleCollapsable.bind(t),t.handleFetchCharacter=t.handleFetchCharacter.bind(t),t.handleSwitchCharacter=t.handleSwitchCharacter.bind(t),t.handleMoveCharacter=t.handleMoveCharacter.bind(t),t.handleRefreshCharacter=t.handleRefreshCharacter.bind(t),t.handleRemoveCharacter=t.handleRemoveCharacter.bind(t),t.handleGetShareTitle=t.handleGetShareTitle.bind(t),t.handleDataChange=t.handleDataChange.bind(t);var r=t.props.params,n=E.REGIONS.findIndex(function(e){return e.slug===r.region}),i=n>=0?r.region:(0,v.getCookie)("region")||"us",s=n>=0?E.REGIONS[n].languages.findIndex(function(e){return e.slug===r.language}):void 0,c=s>=0?r.language:(0,v.getCookie)("language")||"en";return t.state={isSidebarOpen:!1,swipe:{start:!1,current:!1},options:{region:i,language:c},sections:{filters:{isOpen:!0,slug:"filters",title:"New character"},attributes:{isOpen:!0,slug:"attributes",title:"Attributes",elements:[{name:"Item Level",slug:"averageItemLevelEquipped",icon:"swords"},{name:"Health",slug:"health"},{name:"Energy",slug:"energy",isPower:!0},{name:"Focus",slug:"focus",isPower:!0},{name:"Fury",slug:"fury",isPower:!0},{name:"Insanity",slug:"insanity",isPower:!0},{name:"Maelstrom",slug:"maelstrom",isPower:!0},{name:"Mana",slug:"mana",isPower:!0},{name:"Pain",slug:"pain",isPower:!0},{name:"Rage",slug:"rage",isPower:!0},{name:"Runic Power",slug:"runic-power",isPower:!0}]},stats:{isOpen:!0,slug:"stats",title:"Stats",elements:[{name:"Strength",slug:"str",icon:"strength",isSpecBased:!0},{name:"Agility",slug:"agi",icon:"agility",isSpecBased:!0},{name:"Intellect",slug:"int",icon:"intellect",isSpecBased:!0},{name:"Stamina",slug:"sta",icon:"stamina"}]},enhancements:{isOpen:!0,slug:"enhancements",title:"Enhancements",elements:[{name:"Critical",slug:"crit",icon:"critical-strike"},{name:"Haste",slug:"haste"},{name:"Mastery",slug:"mastery"},{name:"Versatility",slug:"versatility"}]},talents:{isOpen:!0,slug:"talents",title:"Talents"}}},t}return i(a,e),u(a,null,[{key:"fetchData",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.region,r=a.language,n=[];return n.push(e((0,y.fetchRaces)({region:t,language:r}))),n.push(e((0,y.fetchClasses)({region:t,language:r}))),n.push(e((0,y.fetchTalents)({region:t,language:r}))),n.push(e((0,y.fetchRealms)({region:t,language:r}))),Promise.all(n).then(function(n){var l=a.characters;if(l){var o=[];return l.split(",").forEach(function(a){var n=a.split("-");if(n&&n[0]&&n[1]){var l={region:t,language:r,realm:a.split("-")[0],characterName:a.split("-")[1]};o.push(e((0,b.fetchCharacter)(l)))}}),Promise.all(o).then(function(){return Promise.resolve()}).catch(function(e){return Promise.reject(e)})}}).catch(function(e){return Promise.reject(e)})}}]),u(a,[{key:"componentWillMount",value:function(){var e=this.props,t=e.params,r=e.dispatch,n=this.state.options;n.region,n.language;if(!(t.region&&t.language||t.characters)){var l=this.state.options,o=l.region,i=l.language;this.context.router.push((0,v.composePathname)({region:o,language:i}))}a.fetchData(r,t)}},{key:"handleToggleSidebar",value:function(){this.setState({isSidebarOpen:!this.state.isSidebarOpen})}},{key:"handleSelectRegion",value:function(){var e=this,a=this.sidebar.region;(0,v.setCookie)({name:"region",value:a.value}),this.setState(c({},this.state,{options:c({},this.state.options,{region:a&&a.value})}),function(){e.handleDataChange()})}},{key:"handleSelectLanguage",value:function(){var e=this,a=this.sidebar.language;(0,v.setCookie)({name:"language",value:a.value}),this.setState(c({},this.state,{options:c({},this.state.options,{language:a&&a.value})}),function(){e.handleDataChange()})}},{key:"handleToggleCollapsable",value:function(e){var a=e.element,t=a.props.data.slug;this.setState(c({},this.state,{sections:c({},this.state.sections,n({},t,c({},this.state.sections[t],{isOpen:!this.state.sections[t].isOpen})))}))}},{key:"handleFetchCharacter",value:function(e){var a=e.realm,t=e.characterName,r=this.props.dispatch,n=this.state.options,l=n.region,o=n.language,i=t.replace(/\ /g,"");a&&""!==a&&" "!==a&&t&&""!==t&&" "!==t&&Promise.all([r((0,b.fetchCharacter)({region:l,language:o,realm:a,characterName:i}))]).then(this.handleDataChange)}},{key:"handleSwitchCharacter",value:function(e){var a=e.character,t=this.props.dispatch;Promise.all([t((0,b.switchCharacter)(a))]).then(this.handleDataChange)}},{key:"handleMoveCharacter",value:function(e){var a=e.character,t=e.movement,r=this.props.dispatch;Promise.all([r((0,b.moveCharacter)(a,t))]).then(this.handleDataChange)}},{key:"handleRefreshCharacter",value:function(e){var a=e.character,t=this.props.dispatch,r=this.state.options,n=r.region,l=r.language;t((0,b.fetchCharacter)({region:n,language:l,realm:a.realm,characterName:a.name},!0))}},{key:"handleRemoveCharacter",value:function(e){var a=e.character,t=this.props.dispatch;Promise.all([t((0,b.removeCharacter)(a))]).then(this.handleDataChange)}},{key:"handleGetShareTitle",value:function(){var e=this.props.characters.collection;if(!e.length)return document.title;var a="";return e.forEach(function(e,t){a+=0===t?e.name:" vs "+e.name}),a+" on "+document.title}},{key:"handleDataChange",value:function(){var e=this.props,a=e.characters.collection,t=(e.location,this.state.options),r=t.region,n=t.language;this.context.router.push((0,v.composePathname)({region:r,language:n,collection:a}))}},{key:"render",value:function(){var e,a=this,t=this.props,r=t.resources,l=r.classes,o=r.races,i=r.realms,s=r.talents,u=t.characters,d=this.state,f=d.isSidebarOpen,m=d.options,h=d.sections,E=!(!l.isFetching&&l.collection.length&&!o.isFetching&&o.collection.length&&!i.isFetching&&i.collection.length&&!s.isFetching),b=!!(l.error||o.error||i.error||s.error);b&&(l.error||(o.error||(i.error||s.error)));var y=p.default.createElement(T.default,(e={options:m,sections:h,isOpen:f,handleToggleSidebar:this.handleToggleSidebar,handleSelectRegion:this.handleSelectRegion,handleSelectLanguage:this.handleSelectLanguage},n(e,"options",m),n(e,"ref",function(e){a.sidebar=e}),n(e,"handleToggleCollapsable",this.handleToggleCollapsable),e));return p.default.createElement(g.default,{className:"App",sidebar:y,open:this.state.isSidebarOpen,onSetOpen:this.handleToggleSidebar,styles:{sidebar:{zIndex:200}}},p.default.createElement("div",{className:"App"},p.default.createElement(R.default,{handleToggleSidebar:this.handleToggleSidebar,handleGetShareTitle:this.handleGetShareTitle}),p.default.createElement("div",{className:"Comparator"},p.default.createElement("div",{className:"Comparator-wrapper",style:{width:280*(u.collection.length+1)+20}},(E||b)&&p.default.createElement(P.default,{realms:i,races:o,classes:l,talents:s}),!E&&!b&&p.default.createElement("div",null,p.default.createElement(w.default,{collapsableData:h.filters,reference:function(e){a.filters=e},availableRealms:i.collection,handleToggleCollapsable:this.handleToggleCollapsable,handleFetchCharacter:this.handleFetchCharacter,error:u.error}),u.collection.map(function(e,t){var r=c({},e),n=void 0;return r.isFetching||r.error||(r.race=(0,v.getCharacterRace)({raceId:r.race,races:o.collection}),r.class=(0,v.getCharacterClass)({classId:r.class,classes:l.collection}),r.availableTalents=(0,v.getAvailableTalents)({classId:r.class&&r.class.id?r.class.id:r.class,talents:s.collection}),0!==t&&u.collection[0]&&!u.collection[0].isFetching&&(n=c({},u.collection[0]),n.race=(0,v.getCharacterRace)({raceId:n.race,races:o.collection}),n.class=(0,v.getCharacterClass)({classId:n.class,classes:l.collection}),n.availableTalents=(0,v.getAvailableTalents)({classId:n.class.id||n.class,talents:s.collection}))),p.default.createElement(A.default,{key:"character-"+t,sections:h,region:m.region,language:m.language,handleToggleCollapsable:a.handleToggleCollapsable,handleSwitchCharacter:a.handleSwitchCharacter,handleMoveCharacter:a.handleMoveCharacter,handleRefreshCharacter:a.handleRefreshCharacter,handleRemoveCharacter:a.handleRemoveCharacter,character:r,isFirst:1===t,isLast:t===u.collection.length-1,comparedTo:n,ref:function(e){a["characterFrame"+t]=e}})})))),p.default.createElement(j.default,{options:m})))}}]),a}(d.Component);k.propTypes={characters:d.PropTypes.shape({character:d.PropTypes.shape({}),rival:d.PropTypes.shape({})}).isRequired,resources:d.PropTypes.shape({races:d.PropTypes.shape({collection:d.PropTypes.array,isFetching:d.PropTypes.bool}),classes:d.PropTypes.shape({collection:d.PropTypes.array,isFetching:d.PropTypes.bool}),realms:d.PropTypes.shape({collection:d.PropTypes.array,isFetching:d.PropTypes.bool})}).isRequired},k.contextTypes={router:d.PropTypes.object.isRequired},k.displayName="Comparator",a.default=(0,f.connect)(s)(k)},function(e,a,t){"use strict";function r(e){if(Array.isArray(e)){for(var a=0,t=Array(e.length);a<e.length;a++)t[a]=e[a];return t}return Array.from(e)}Object.defineProperty(a,"__esModule",{value:!0});var n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=t(8),o=t(2),i=function(e,a){return e.name.toLowerCase()===a.name.toLowerCase()&&(0,o.getSlug)({name:e.realm})===(0,o.getSlug)({name:a.realm})},s=function(e,a){return e.findIndex(function(e){return i(e,a)})},c=function(e,a){switch(a.type){case l.FETCH_CHARACTER_REQUEST:return a.payload&&i(e,a.payload)?n({},e,{isFetching:!0,error:void 0}):e;case l.FETCH_CHARACTER_SUCCESS:return a.payload&&a.payload.data&&i(e,a.payload.data)?n({},e,a.payload.data,{isFetching:!1}):e;default:return e}},u={collection:[]};a.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments[1];switch(a.type){case l.FETCH_CHARACTER_REQUEST:return{collection:s(e.collection,a.payload)>=0?[].concat(r(e.collection.map(function(e){return c(e,a)}))):[].concat(r(e.collection),[n({},a.payload,{isFetching:!0})])};case l.FETCH_CHARACTER_SUCCESS:return{collection:s(e.collection,a.payload.data)>=0?[].concat(r(e.collection.map(function(e){return c(e,a)}))):[].concat(r(e.collection),[n({},a.payload.data,{isFetching:!1})])};case l.FETCH_CHARACTER_ERROR:return{collection:[].concat(r(e.collection.filter(function(e){return e.name!==a.payload.name||e.realm!==a.payload.realm}))),error:a.payload.error};case l.SWITCH_CHARACTER:return n({},e,{collection:[e.collection.find(function(e){return i(e,a.extra)})].concat(r(e.collection.slice(0,s(e.collection,a.extra))),r(e.collection.slice(s(e.collection,a.extra)+1)))});case l.MOVE_CHARACTER:var t=[].concat(r(e.collection)),o=e.collection.findIndex(function(e){return i(e,a.extra)});return t[o+a.extra.movement]=e.collection[o],t[o]=e.collection[o+a.extra.movement],n({},e,{collection:[].concat(r(t))});case l.REMOVE_CHARACTER:return n({},e,{collection:[].concat(r(e.collection.slice(0,s(e.collection,a.extra))),r(e.collection.slice(s(e.collection,a.extra)+1)))});default:return e}}},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var n=t(21),l=t(53),o=r(l),i=t(55),s=r(i);a.default=(0,n.combineReducers)({characters:o.default,resources:s.default})},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},n=t(8),l={races:{collection:[],isFetching:!1},classes:{collection:[],isFetching:!1},realms:{collection:[],isFetching:!1},talents:{collection:[],isFetching:!1}};a.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments[1];switch(a.type){case n.FETCH_RACES_REQUEST:return r({},e,{races:r({},e.races,{isFetching:!0})});case n.FETCH_RACES_SUCCESS:return r({},e,{races:r({},e.races,{collection:a.payload.data.races,isFetching:!1})});case n.FETCH_RACES_ERROR:return r({},e,{races:{error:a.payload.error}});case n.FETCH_CLASSES_REQUEST:return r({},e,{classes:r({},e.classes,{isFetching:!0})});case n.FETCH_CLASSES_SUCCESS:return r({},e,{classes:r({},e.classes,{collection:a.payload.data.classes.map(function(e){var a=void 0;switch(e.id){case 1:a="warrior";break;case 2:a="paladin";break;case 3:a="hunter";break;case 4:a="rogue";break;case 5:a="priest";break;case 6:a="death-knight";break;case 7:a="shaman";break;case 8:a="mage";break;case 9:a="warlock";break;case 10:a="monk";break;case 11:a="druid";break;case 12:a="demon-hunter";break;default:a=""}return r({},e,{slug:a})}),isFetching:!1})});case n.FETCH_CLASSES_ERROR:return r({},e,{classes:{error:a.payload.error}});case n.FETCH_REALMS_REQUEST:return r({},e,{realms:r({},e.realms,{isFetching:!0})});case n.FETCH_REALMS_SUCCESS:return r({},e,{realms:r({},e.realms,{collection:a.payload.data.realms,isFetching:!1})});case n.FETCH_REALMS_ERROR:return r({},e,{realms:{error:a.payload.error}});case n.FETCH_TALENTS_REQUEST:return r({},e,{talents:r({},e.talents,{isFetching:!0})});case n.FETCH_TALENTS_SUCCESS:return r({},e,{talents:r({},e.talents,{collection:a.payload.data,isFetching:!1})});case n.FETCH_TALENTS_ERROR:return r({},e,{talents:{error:a.payload.error}});default:return e}}},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var a="undefined"!=typeof window&&void 0!==window.devToolsExtension?window.devToolsExtension():function(e){return e};return(0,l.compose)((0,l.applyMiddleware)(i.default,d.default),a)(l.createStore)(c.default,e)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=n;var l=t(21),o=t(64),i=r(o),s=t(54),c=r(s),u=t(13),d=r(u)},function(e,a,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l=t(29),o=(function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);a.default=e}(l),t(27)),i=r(o),s=t(28),c=r(s),u=t(30),d=r(u),p=t(25),f=r(p),m=t(26),g=r(m),h=t(14),v=r(h),E=t(9),b=t(22),y=r(b),C=t(23),T=r(C),_=t(24),R=r(_),S=(0,i.default)();S.use(f.default.urlencoded({extended:!1})),S.use(f.default.json());var P={store:{type:"file",file:{path:"./.sessions",retries:2}}},O=(0,d.default)(c.default),w=new O(n({},P.store.file));S.use((0,c.default)({store:w,secret:E.SESSION_SECRET,resave:!1,saveUninitialized:!1})),S.use((0,g.default)()),S.use("/",i.default.static("dist/")),S.use((0,R.default)()),S.use((0,T.default)({routes:y.default})),S.listen(3e3),process.send&&process.send("online"),(0,v.default)("dev")("`server` listening on port %s",3e3)},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(59),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=t(1);a.default=function(e,a,r){var o=t(18),i=o.style&&o.style[0],s=o.script&&o.script[0],c=[],u=[];return'<!doctype html>\n    <html class="no-js">\n      <head>\n        <title>'+l.TITLE+'</title>\n        <meta charset="utf-8">\n        '+(0,n.default)()+"\n        "+c.map(function(e){return'<script src="'+e+'"><\/script>'}).join("\n")+'\n      </head>\n      <body>\n        <div id="'+l.SLUG+'">\n          '+e+"\n        </div>\n        <script>window.__INITIAL_DATA__ = "+JSON.stringify(a)+"<\/script>\n        "+(i?'<link rel="stylesheet" href="'+i+'">':"")+"\n        "+(s?'<script src="'+s+'"><\/script>':"")+"\n        "+u.map(function(e){return'<script src="'+e+'"><\/script>'}).join("\n")+"\n        "+(r||"")+"\n        <script type=\"text/javascript\">\n          (function() {\n            if('serviceWorker' in navigator) {\n              navigator.serviceWorker.register('/service-worker.js');\n            }\n          })();\n        <\/script>\n      </body>\n    </html>"}},function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t(4),n=function(e){return e&&e.__esModule?e:{default:e}}(r),l=t(1),o=function(){return[{name:"viewport",content:"width=device-width, initial-scale=1, user-scalable=no"},{name:"application-name",content:l.TITLE},{name:"description",content:l.DESCRIPTION},{name:"mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-title",content:l.TITLE},{name:"theme-color",content:l.COLOR},{name:"msapplication-TileColor",content:l.COLOR},{property:"og:site_name",content:l.TITLE},{property:"og:type",content:"website"},{property:"og:title",content:l.TITLE},{property:"og:url",content:l.SITE_URL},{property:"og:description",content:l.DESCRIPTION},{property:"og:image",content:l.SITE_URL+"/assets/favicons/android-chrome-192x192.png"},{name:"twitter:creator",content:"@ImperdibleSoft"},{name:"twitter:card",content:"summary"},{name:"twitter:title",content:l.TITLE},{name:"twitter:description",content:l.DESCRIPTION},{name:"twitter:url",content:l.SITE_URL},{name:"twitter:image",content:l.SITE_URL+"/assets/favicons/android-chrome-192x192.png"},{itemprop:"url",content:l.SITE_URL},{itemprop:"name",content:l.TITLE},{itemprop:"description",content:l.DESCRIPTION},{itemprop:"thumbnail",content:"http://schema.org/ImageObject"},{itemprop:"thumbnailUrl",content:l.SITE_URL+"/assets/favicons/android-chrome-192x192.png"}].map(function(e){return"<meta "+(e.name?'name="'+e.name+'"':"")+" "+(e.content?'content="'+e.content+'"':"")+" "+(e.property?'property="'+e.property+'"':"")+" "+(e.itemprop?'itemprop="'+e.itemprop+'"':"")+"/>"}).join("\n")},i=function(){return[{rel:"manifest",href:"/manifest.json"},{rel:"apple-touch-icon",size:"180x180",href:(0,n.default)("../images/favicons/apple-touch-icon-180x180.png")},{rel:"apple-touch-icon",size:"167x167",href:(0,n.default)("../images/favicons/apple-touch-icon-167x167.png")},{rel:"apple-touch-icon",size:"152x152",href:(0,n.default)("../images/favicons/apple-touch-icon-152x152.png")},{rel:"apple-touch-icon",size:"120x120",href:(0,n.default)("../images/favicons/apple-touch-icon-120x120.png")},{rel:"apple-touch-icon",size:"76x76",href:(0,n.default)("../images/favicons/apple-touch-icon-76x76.png")},{rel:"icon",size:"192x192",type:"image/png",href:(0,n.default)("../images/favicons/android-chrome-192x192.png")},{rel:"icon",size:"128x128",type:"image/png",href:(0,n.default)("../images/favicons/android-chrome-128x128.png")},{rel:"icon",size:"96x96",type:"image/png",href:(0,n.default)("../images/favicons/favicon-96x96.png")},{rel:"icon",size:"72x72",type:"image/png",href:(0,n.default)("../images/favicons/favicon-72x72.png")},{rel:"icon",size:"48x48",type:"image/png",href:(0,n.default)("../images/favicons/favicon-48x48.png")},{rel:"icon",size:"36x36",type:"image/png",href:(0,n.default)("../images/favicons/favicon-36x36.png")}].map(function(e){return"<link "+(e.rel?'rel="'+e.rel+'"':"")+" "+(e.href?'href="'+e.href+'"':"")+" "+(e.size?'sizes="'+e.size+'"':"")+" "+(e.type?'type="'+e.type+'"':"")+"/>"}).join("\n")},s=function(){return o()+i()};a.default=s},function(e,a){e.exports=require("axios")},function(e,a){e.exports=require("qs")},function(e,a){e.exports=require("react-dom/server")},function(e,a){e.exports=require("react-sidebar")},function(e,a){e.exports=require("redux-thunk")}]);